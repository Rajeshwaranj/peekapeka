{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/general/header/header.component.ts","./src/app/components/general/header/header.component.html","./src/app/components/pages/home/home.component.ts","./src/app/components/pages/home/home.component.html","./src/app/components/pages/pokemon-details/pokemon-details.component.ts","./src/app/components/pages/pokemon-details/pokemon-details.component.html","./src/app/services/http-interceptor/http-interceptor-state.service.ts","./src/app/services/http-interceptor/http-interceptor.service.ts","./src/app/services/pokemons/pokemons.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomeComponent } from \"./components/pages/home/home.component\";\nimport { HeaderComponent } from \"./components/general/header/header.component\";\nimport { PokemonDetailsComponent } from \"./components/pages/pokemon-details/pokemon-details.component\";\n\nconst routes: Routes = [\n  {path: \"home\", component: HomeComponent},\n  {path: \"pokemon/:id\", component: PokemonDetailsComponent},\n  {path: \"**\", redirectTo:'home', pathMatch: \"full\"}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { HttpInterceptorService } from './services/http-interceptor/http-interceptor.service';\nimport { HttpInterceptorStateService } from './services/http-interceptor/http-interceptor-state.service';\nimport { startWith } from 'rxjs/operators';\nimport {Title} from \"@angular/platform-browser\";\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\nexport class AppComponent implements OnInit {\n  title = 'codigo-facilito-curso-angular';\n  isLoading: boolean = false\n  constructor(\n    public httpStateService : HttpInterceptorStateService,\n    private titleService    : Title\n  ){\n    this.titleService.setTitle(\"Pokemons\");\n  }\n\n  ngOnInit(): void{\n    this.httpStateService.state.pipe(startWith({state: 0})).subscribe(res => this.isLoading= res.state==1 ? false: true)\n  }\n}\n","<app-header></app-header>\n<main style='background: #0a192f;min-height: 92.6vh;' class=\"pt-5\">\n  <div class=\"container\">\n    <router-outlet></router-outlet>\n  </div>\n  <div class=\"general-loader\">\n    <div *ngIf='isLoading' class=\"spinner-border text-light\" role=\"status\">\n      <span class=\"sr-only\">Loading...</span>\n    </div>\n  </div>\n</main>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { HomeComponent } from './components/pages/home/home.component';\nimport { HeaderComponent } from './components/general/header/header.component';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { HttpInterceptorService } from './services/http-interceptor/http-interceptor.service'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { PokemonDetailsComponent } from './components/pages/pokemon-details/pokemon-details.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    HeaderComponent,\n    PokemonDetailsComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgbModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: HttpInterceptorService,\n      multi: true\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.sass']\n})\nexport class HeaderComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light main-navbar\">\n    <div class=\"container\">\n    <a class=\"navbar-brand text-white\" routerLink=\"/home\">ngPoke</a>\n    <!-- <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>   -->\n    <!-- <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav ml-auto\">\n        <li class=\"nav-item active\">\n          <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\">Link</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link disabled\" href=\"#\">Disabled</a>\n        </li>\n      </ul>\n    </div> -->\n    </div>\n  </nav>","import { Component, OnInit, HostListener, OnDestroy } from '@angular/core';\nimport { PokemonsService } from \"../../../services/pokemons/pokemons.service\"\nimport { PokemonShortData, PokemonData, PokemonList } from 'src/app/interfaces/pokemons/pokemon';\nimport { Observable, fromEvent, merge, pairs, from, timer, of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { map, filter, distinct, switchMap, debounceTime, distinctUntilChanged, mergeMap, take, tap, toArray} from 'rxjs/operators'\nimport { FormControl } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.sass']\n})\nexport class HomeComponent implements OnInit, OnDestroy {\n\n  public searchInput: FormControl;\n  public pokemonList: any;\n\n\n  constructor(\n    public pokemonsService: PokemonsService,\n    private httpClient: HttpClient\n  ) { }\n\n  ngOnInit(): void {\n  \n    this.searchInput = new FormControl()\n    \n    const searchPokemon$=this.searchInput.valueChanges.pipe(\n      debounceTime(500),\n      distinctUntilChanged(),\n      mergeMap(pokemonName => this.pokemonsService.initPokemonSearch([pokemonName]))\n    )\n\n    this.pokemonList = merge(this.pokemonsService.pokemonListOnInit(), searchPokemon$)\n  }   \n\n  ngOnDestroy():void {\n  }\n\n}\n","<section>\n    <div class=\"row\">\n        <div class=\"col-12\">\n            <div class=\"form-group\">\n                <label for=\"inpur-search-pokemon\" class=\"text-white\">Â¡Encuentra tu pokemon!</label>\n                <input [formControl]='searchInput' type=\"email\" class=\"form-control\" id=\"inpur-search-pokemon\" aria-describedby=\"emailHelp\" placeholder=\"Nombre del pokemon\">\n                <small id=\"emailHelp\" class=\"form-text text-muted text-white\">Nunca guardamos los datos de pokemons que has buscado </small>\n            </div>\n        </div>\n        <div *ngFor='let pokemon of pokemonList | async' class=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 my-3 px-4 p-md-1\">\n            <div class=\"card w-100 pokemon-box\">\n                <img *ngIf='pokemon.front_default' class=\"card-img-top\" src=\"{{pokemon.front_default}}\" alt=\"Card image cap\">\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">{{ pokemon.name }}</h5>\n                    <!-- <h5 class=\"card-title text-center\">{{ pokemonList | async }}</h5> -->\n                    <!-- <a [routerLink]=\"['/pokemon', pokemon.id]\" class=\"btn btn-primary btn-block\">Ver</a> -->\n                </div>\n            </div>\n        </div>\n    </div>\n</section>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Route } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { mergeMap, pluck } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-pokemon-details',\n  templateUrl: './pokemon-details.component.html',\n  styleUrls: ['./pokemon-details.component.sass']\n})\nexport class PokemonDetailsComponent implements OnInit {\n\n  pokemonData$: Observable<number>;\n\n  constructor(\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {}\n\n}\n","<div class='conteiner'>\n    <section class='banner m-auto'>\n        <div class=\"banner-container text-center\">\n            <img width=\"100%\" src=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png\" alt=\"\">\n            <h1 class=\"text-white display-1 font-weight-bold\">butterfree</h1>\n\n            <div class=\"pokemon-name-div\">\n                <img width=\"30\" src=\"assets/icons/star.svg\" alt=\"\">\n            </div>\n        </div>\n    </section>\n</div>","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpInterceptorStateService {\n\n  public state = new BehaviorSubject<IHttpState>({} as IHttpState);\n\n  constructor() { }\n}\n\nexport interface IHttpState {\n  url: string;\n  state: HttpProgressState;\n}\n\nexport enum HttpProgressState {\n  start,\n  end\n}","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { retryWhen, take, delay, finalize, tap } from 'rxjs/operators';\nimport { HttpInterceptorStateService, HttpProgressState } from './http-interceptor-state.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpInterceptorService {\n\n  private exceptions: string[] = ['login']\n\n  constructor(\n    public httpStateService: HttpInterceptorStateService\n  ) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    this.httpStateService.state.next({\n      url: request.url,\n      state: HttpProgressState.start\n    });\n    \n    return next.handle(request).pipe(\n      finalize(() => {\n      this.httpStateService.state.next({\n        url: request.url,\n        state: HttpProgressState.end\n      });\n    }));\n\n  }\n  \n}\n\n","import { Injectable } from '@angular/core';\nimport { environment } from \"../../../environments/environment\"\nimport { PokemonList, PokemonData, PokemonShortData } from \"../../interfaces/pokemons/pokemon\"\nimport { HttpClient } from \"@angular/common/http\"\nimport { map, pluck, mergeMap, filter, distinct, switchMap, refCount, publishReplay, tap, toArray, share, pairwise, startWith } from 'rxjs/operators'\nimport { Observable, from, merge, fromEvent, BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PokemonsService {\n\n  // public request: any;\n  public pokemonList: PokemonShortData[] = [];\n  public isLoading: boolean = false\n  public numberOfLoadedPokemons: number = 0;\n  public numberOfPokemonsToLoad: number = 35;\n  public pokemonSubject: BehaviorSubject<Array<any>> = new BehaviorSubject([]);\n  // loadItems$: any;\n\n  constructor(\n    private httpClient: HttpClient\n    ) { }\n\n\n  scrollEvent(){\n    \n  }\n\n  pokemonListOnInit(): Observable<any>{\n\n    const pageScroll$ = fromEvent(window, \"scroll\").pipe(\n      map(() => window.scrollY),                                                                          // && !this.searchInput.value \n      filter((current) => current >= (document.body.clientHeight - window.innerHeight) && !this.isLoading),\n      distinct(),\n      switchMap((data) =>{ \n        return this.getPokemons(this.numberOfLoadedPokemons+=35, this.numberOfPokemonsToLoad)\n      }),\n    )\n    \n    return merge(this.getPokemons(this.numberOfLoadedPokemons, this.numberOfPokemonsToLoad), pageScroll$).pipe(\n      startWith([]),\n      pairwise(),\n      map(resp => this.pokemonList = resp[0] ? this.pokemonList.concat(resp[1]) : resp[1] ),\n    )\n    \n  }\n\n  getPokemons(offset: number, limit: number): Observable<any> {\n    return this.httpClient.get<PokemonList>(`${environment.pokemonAPI}pokemon?offset=${offset}&limit=${limit}`).pipe(\n      pluck(\"results\"),\n      mergeMap((pokemonList: PokemonShortData[]) => {\n          return from(pokemonList).pipe(\n            mergeMap((pokemonShortData: PokemonShortData) => {\n              return this.getPokemonImagesAndID(pokemonShortData)\n            }),          \n          )\n      }),\n      toArray(),\n    )\n  }\n\n  getPokemonImagesAndID(pokemonShortData: PokemonShortData): Observable<any> {\n    return this.httpClient.get<PokemonData>(`${pokemonShortData.url}`).pipe(\n      map((pokemon: PokemonData)=>{\n        return {\n          id: pokemon.id,\n          name: pokemonShortData.name,\n          url: pokemonShortData.url,\n          front_default: pokemon.sprites.front_default\n        }\n      })\n    )\n  }\n\n  searchPokemon(): Observable<PokemonShortData[]> {\n    return this.httpClient.get<PokemonData>(`${environment.pokemonAPI}pokemon?&limit=1000`).pipe(\n      pluck(\"results\"),\n    )\n  }\n\n  initPokemonSearch(PokemonName: Array<string>){\n\n    return from([PokemonName]).pipe(\n      tap(() => {\n        this.numberOfLoadedPokemons=0;\n        this.pokemonList=[];\n      }),\n      switchMap(pokemonName => {\n        if(!pokemonName[0]){\n          return this.pokemonListOnInit()\n        }\n        return from(pokemonName).pipe(\n          switchMap(resp=> {\n            return this.searchPokemon()\n          }),\n          switchMap(pokemons => {\n           return  from(pokemons).pipe(\n             filter(resp => {\n               return resp.name.indexOf(pokemonName[0]) > -1\n              }),\n              mergeMap(pokemonShortData => this.getPokemonImagesAndID(pokemonShortData))\n           )\n          }),\n          toArray(),\n        )\n      })\n    )\n  }\n\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  pokemonAPI: \"https://pokeapi.co/api/v2/\"\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":[],"sourceRoot":"webpack:///"}